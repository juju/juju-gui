.machine-view-panel .token {
    .border-box;
    position: relative;
    display: block;
    min-height: 40px;
    // This is so the top border wraps over the header border if there
    // is nothing about the first token.
    margin-top: -1px;
    padding: 10px 20px;
    border-width: 1px 0 0 0;
    border-style: solid;
    border-color: @machine-view-border-colour;
    cursor: pointer;

    &:last-child {
        border-bottom-width: 1px;
    }
    &.active {
        background-color: #eee;

        .top {
            overflow: visible;

            .title,
            .service-icons {
                height: auto;
            }
        }
        .delete {
            display: block;
        }
    }
    // Needs to be after &.active so that when both are applied the active
    // background is the uncommitted colour.
    &.uncommitted {
        background-color: #ddf4fc;
    }
    span {
        display: block;
    }
    .top {
        .display-flex;
        overflow: hidden;

        .title {
            .flex-basis(auto);
            margin-right: 10px;
        }
        .title,
        .service-icons {
            height: 20px;
        }
    }
    .delete {
        display: none;
        position: absolute;
        right: 20px;
        cursor: pointer;
    }
    .service-icons {
        .flex(1);
        margin-top: -5px;

        .unit {
            display: block;
            float: right;
            margin: 5px 0 0 5px;
        }
        img {
            width: 20px;
            height: 20px;
        }
    }
    .drop {
        span {
            margin-top: -9px;
        }
    }
}
